<div class="container-fluid h-100">
  <div *ngIf="!isAuthenticated" class="famous-game-trivia">
    <h5>Famous Game: Marshall's Immortal</h5>
    <p>
      Played in 1912 between Frank Marshall and Stefan Levitsky, this game
      is known for the spectacular queen sacrifice, which left the
      audience showering gold coins on the board!
    </p>
  </div>
  <div class="row h-100">
    <!-- Game Info Column (Left) -->
    <div class="col-md-3 d-flex flex-column justify-content-between game-info-notes-wrapper">
      <div class="game-info-section p-3 bg-light">
        
        <div class="d-flex justify-content-between">
          <div class="player-info">
            <strong>{{ blackPlayer.name || "Black" }}</strong> ({{ blackPlayer.rating }})
          </div>
        </div>
        <div class="d-flex justify-content-between mt-1">
          <div class="player-info">
            <strong>{{ whitePlayer.name || "White" }}</strong> ({{ whitePlayer.rating }})
          </div>
        </div>
        <div class="game-details text-center mt-2">
          <div *ngIf="isAuthenticated">{{ gameFormat || "Blitz" }} â€¢ {{ timeControl || "3+2" }}</div>
          <div>Result: <strong>{{ result || "Ongoing" }}</strong></div>
          <div *ngIf="isAuthenticated">Termination: {{ termination || "Normal" }}</div>
          <div *ngIf="bestMove && isAuthenticated">Best Move: <strong>{{ bestMove }}</strong></div>
        </div>
      </div>

      <div class="notes-section bg-light p-3">
        <textarea class="form-control" placeholder="Type private notes here" rows="8"></textarea>
      </div>
    </div>

    <!-- Chessboard Column (Center) -->
    <div class="col-md-6 d-flex justify-content-center align-items-center board-wrapper">
      <div class="board-container">
        <div #boardContainer class="chessboard"></div>
      </div>
    </div>

    <!-- Move List Column (Right) -->
    <div class="col-md-3 d-flex flex-column move-list-wrapper">
      <div class="move-list bg-light p-2">
        <app-move-list [moves]="moves" [selectedMovePath]="selectedMovePath" (moveClicked)="onMoveClicked($event)">
        </app-move-list>
      </div>
      <div class="text-center mt-3">
        <button class="btn btn-primary mx-1" (click)="goTo('first')">
          <i class="fas fa-step-backward"></i>
        </button>
        <button class="btn btn-primary mx-1" (click)="goTo('prev')">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button class="btn btn-primary mx-1" (click)="goTo('next')">
          <i class="fas fa-chevron-right"></i>
        </button>
        <button class="btn btn-primary mx-1" (click)="goTo('last')">
          <i class="fas fa-step-forward"></i>
        </button>
      </div>
    </div>
  </div>
</div>
